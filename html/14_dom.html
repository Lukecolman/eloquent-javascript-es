<!doctype html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>El Modelo de Objetos del Documento :: Eloquent JavaScript</title>
  <link rel=stylesheet href="css/ejs.css"><script>
      var page = {"type":"chapter","number":14}</script></head>

<article>
<nav><a href="13_browser.html" title="previous chapter" aria-label="previous chapter">‚óÇ</a>¬†<a href="index.html" title="cover" aria-label="cover">‚óè</a>¬†<a href="15_event.html" title="next chapter" aria-label="next chapter">‚ñ∏</a>&nbsp;<button class=help title="help" aria-label="help"><strong>?</strong></button>&nbsp;<button class="dark-mode-toggle">üåô</button>
</nav>

<h1>El Modelo de Objetos del Documento</h1>

<blockquote>

<p><a class="p_ident" id="p-nAKastT8US" href="#p-nAKastT8US" tabindex="-1" role="presentation"></a>¬°Qu√© mal! ¬°La misma vieja historia! Una vez que has terminado de construir tu casa, te das cuenta de que has aprendido accidentalmente algo que realmente deber√≠as haber sabido antes de comenzar.</p>

<footer>Friedrich Nietzsche, <cite>M√°s all√° del bien y del mal</cite></footer>

</blockquote><figure class="chapter framed"><img src="img/chapter_picture_14.jpg" alt="Ilustraci√≥n que muestra un √°rbol con letras, im√°genes y engranajes colgando de sus ramas"></figure>

<p><a class="p_ident" id="p-VW462YK2br" href="#p-VW462YK2br" tabindex="-1" role="presentation"></a>Cuando abres una p√°gina web, tu navegador recupera el texto HTML de la p√°gina y lo analiza, de manera similar a como nuestro analizador de <a href="12_language.html#parsing">Cap√≠tulo 12</a> analizaba programas. El navegador construye un modelo de la estructura del documento y utiliza este modelo para dibujar la p√°gina en la pantalla.</p>

<p><a class="p_ident" id="p-Tut29UcFsf" href="#p-Tut29UcFsf" tabindex="-1" role="presentation"></a>Esta representaci√≥n del documento es uno de los juguetes que un programa JavaScript tiene disponible en su caja de arena. Es una estructura de datos que puedes leer o modificar. Act√∫a como una estructura de datos <em>en vivo</em>: cuando se modifica, la p√°gina en la pantalla se actualiza para reflejar los cambios.</p>

<h2><a class="h_ident" id="h-F42NKMypcy" href="#h-F42NKMypcy" tabindex="-1" role="presentation"></a>Estructura del documento</h2>

<p><a class="p_ident" id="p-tEZIS6bhYG" href="#p-tEZIS6bhYG" tabindex="-1" role="presentation"></a>Puedes imaginar un documento HTML como un conjunto anidado de cajas. Etiquetas como <code>&lt;body&gt;</code> y <code>&lt;/body&gt;</code> encierran otras etiquetas, que a su vez contienen otras etiquetas o texto. Aqu√≠ est√° el documento de ejemplo del <a href="13_browser.html">cap√≠tulo anterior</a>:</p>

<pre tabindex="0" class="snippet" data-language="html"  data-sandbox="homepage"><a class="c_ident" id="c-TwHTaVSOV7" href="#c-TwHTaVSOV7" tabindex="-1" role="presentation"></a><span class="tok-meta">&lt;!doctype html&gt;</span>
&lt;<span class="tok-typeName">html</span>&gt;
  &lt;<span class="tok-typeName">head</span>&gt;
    &lt;<span class="tok-typeName">title</span>&gt;Mi p√°gina de inicio&lt;/<span class="tok-typeName">title</span>&gt;
  &lt;/<span class="tok-typeName">head</span>&gt;
  &lt;<span class="tok-typeName">body</span>&gt;
    &lt;<span class="tok-typeName">h1</span>&gt;Mi p√°gina de inicio&lt;/<span class="tok-typeName">h1</span>&gt;
    &lt;<span class="tok-typeName">p</span>&gt;Hola, soy Marijn y esta es mi p√°gina de inicio.&lt;/<span class="tok-typeName">p</span>&gt;
    &lt;<span class="tok-typeName">p</span>&gt;¬°Tambi√©n escrib√≠ un libro! L√©elo
      &lt;<span class="tok-typeName">a</span> href=<span class="tok-string">&quot;http://eloquentjavascript.net&quot;</span>&gt;aqu√≠&lt;/<span class="tok-typeName">a</span>&gt;.&lt;/<span class="tok-typeName">p</span>&gt;
  &lt;/<span class="tok-typeName">body</span>&gt;
&lt;/<span class="tok-typeName">html</span>&gt;</pre>

<p><a class="p_ident" id="p-ryLJIvqClN" href="#p-ryLJIvqClN" tabindex="-1" role="presentation"></a>Esta p√°gina tiene la siguiente estructura:</p><figure><img src="img/html-boxes.svg" alt="Diagrama que muestra un documento HTML como un conjunto de cajas anidadas. La caja externa est√° etiquetada como 'html' y contiene dos cajas etiquetadas 'head' y 'body'. Dentro de ellas hay m√°s cajas, con algunas de las cajas m√°s internas que contienen el texto del documento."></figure>

<p><a class="p_ident" id="p-Odqnxn1Di6" href="#p-Odqnxn1Di6" tabindex="-1" role="presentation"></a>La estructura de datos que el navegador utiliza para representar el documento sigue esta forma. Para cada caja, hay un objeto con el que podemos interactuar para saber cosas como qu√© etiqueta HTML representa y qu√© cajas y texto contiene. Esta representaci√≥n se llama <em>Modelo de Objetos del Documento</em>, o DOM en resumen.</p>

<p><a class="p_ident" id="p-JHj4fJGf+a" href="#p-JHj4fJGf+a" tabindex="-1" role="presentation"></a>El enlace global <code>document</code> nos da acceso a estos objetos. Su propiedad <code>documentElement</code> se refiere al objeto que representa la etiqueta <code>&lt;html&gt;</code>. Dado que cada documento HTML tiene una cabeza y un cuerpo, tambi√©n tiene propiedades <code>head</code> y <code>body</code>, que apuntan a esos elementos.</p>

<h2><a class="h_ident" id="h-haqdrtbJUM" href="#h-haqdrtbJUM" tabindex="-1" role="presentation"></a>√Årboles</h2>

<p><a class="p_ident" id="p-Wb02JK1JGs" href="#p-Wb02JK1JGs" tabindex="-1" role="presentation"></a>Piensa en los √°rbol sint√°cticos del <a href="12_language.html#parsing">Cap√≠tulo 12</a> por un momento. Sus estructuras son sorprendentemente similares a la estructura de un documento de un navegador. Cada <em>nodo</em> puede referirse a otros nodos, <em>hijos</em>, que a su vez pueden tener sus propios hijos. Esta forma es t√≠pica de estructuras anidadas donde los elementos pueden contener subelementos que son similares a ellos mismos.</p>

<p><a class="p_ident" id="p-Ix0SqSUNHG" href="#p-Ix0SqSUNHG" tabindex="-1" role="presentation"></a>Llamamos a una estructura de datos un <em>√°rbol</em> cuando tiene una estructura de ramificaci√≥n, no tiene ciclos (un nodo no puede contenerse a s√≠ mismo, directa o indirectamente), y tiene un <em>ra√≠z</em> √∫nica y bien definida. En el caso del DOM, <code>document.<wbr>documentElement</code> sirve como la ra√≠z.</p>

<p><a class="p_ident" id="p-fm9xchFx+E" href="#p-fm9xchFx+E" tabindex="-1" role="presentation"></a>Los √°rboles son comunes en la inform√°tica. Adem√°s de representar estructuras recursivas como documentos HTML o programas, a menudo se utilizan para mantener conjuntos de datos ordenados porque los elementos generalmente se pueden encontrar o insertar de manera m√°s eficiente en un √°rbol que en un arreglo plano.</p>

<p><a class="p_ident" id="p-wpb3ismqJB" href="#p-wpb3ismqJB" tabindex="-1" role="presentation"></a>Un √°rbol t√≠pico tiene diferentes tipos de nodos. El √°rbol de sintaxis para <a href="12_language.html">el lenguaje Egg</a> ten√≠a identificadores, valores y nodos de aplicaci√≥n. Los nodos de aplicaci√≥n pueden tener hijos, mientras que los identificadores y valores son <em>hojas</em>, o nodos sin hijos.</p>

<p><a class="p_ident" id="p-dJHszzYpf7" href="#p-dJHszzYpf7" tabindex="-1" role="presentation"></a>Lo mismo ocurre para el DOM. Los nodos de los <em>elementos</em>, que representan etiquetas HTML, determinan la estructura del documento. Estos pueden tener nodo hijos. Un ejemplo de dicho nodo es <code>document.body</code>. Algunos de estos hijos pueden ser nodo hoja, como fragmentos de texto o nodos comentario.</p>

<p><a class="p_ident" id="p-Bc8agQfTFl" href="#p-Bc8agQfTFl" tabindex="-1" role="presentation"></a>Cada objeto de nodo del DOM tiene una propiedad <code>nodeType</code>, que contiene un c√≥digo (n√∫mero) que identifica el tipo de nodo. Los elementos tienen el c√≥digo 1, que tambi√©n se define como la propiedad constante <code>Node.<wbr>ELEMENT_NODE</code>. Los nodos de texto, que representan una secci√≥n de texto en el documento, obtienen el c√≥digo 3 (<code>Node.TEXT_NODE</code>). Los comentarios tienen el c√≥digo 8 (<code>Node.<wbr>COMMENT_NODE</code>).</p>

<p><a class="p_ident" id="p-GSzk68pPQY" href="#p-GSzk68pPQY" tabindex="-1" role="presentation"></a>Otra forma de visualizar nuestro √°rbol de documento es la siguiente:</p><figure><img src="img/html-tree.svg" alt="Diagrama que muestra el documento HTML como un √°rbol, con flechas de nodos padres a nodos hijos"></figure>

<p><a class="p_ident" id="p-TpGsKP/H5i" href="#p-TpGsKP/H5i" tabindex="-1" role="presentation"></a>Las hojas son nodos de texto, y las flechas indican las relaciones padre-hijo entre nodos.</p>

<h2 id="est√°ndar"><a class="h_ident" id="h-CFjVAEqJy7" href="#h-CFjVAEqJy7" tabindex="-1" role="presentation"></a>El est√°ndar</h2>

<p><a class="p_ident" id="p-d46TYUYjnb" href="#p-d46TYUYjnb" tabindex="-1" role="presentation"></a>Usar c√≥digos num√©ricos cr√≠pticos para representar tipos de nodos no es algo muy propio de JavaScript. M√°s adelante en este cap√≠tulo, veremos que otras partes de la interfaz del DOM tambi√©n se sienten inc√≥modas y extra√±as. La raz√≥n de esto es que la interfaz del DOM no fue dise√±ada exclusivamente para JavaScript. M√°s bien, intenta ser una interfaz neutral en cuanto a lenguaje que tambi√©n pueda utilizarse en otros sistemas, no solo para HTML, sino tambi√©n para XML, que es un formato de datos gen√©rico con una sintaxis similar a HTML.</p>

<p><a class="p_ident" id="p-VodjM/oXmV" href="#p-VodjM/oXmV" tabindex="-1" role="presentation"></a>Esto es lamentable. Los est√°ndares a menudo son √∫tiles. Pero en este caso, la ventaja (consistencia entre lenguajes) no es tan convincente. Tener una interfaz que est√© correctamente integrada con el lenguaje que est√°s utilizando te ahorrar√° m√°s tiempo que tener una interfaz familiar en varios lenguajes.</p>

<p><a class="p_ident" id="p-xQFUpUkmCN" href="#p-xQFUpUkmCN" tabindex="-1" role="presentation"></a>Como ejemplo de esta mala integraci√≥n, considera la propiedad <code>childNodes</code> que tienen los nodos de elementos en el DOM. Esta propiedad contiene un objeto similar a un array, con una propiedad <code>length</code> y propiedades etiquetadas por n√∫meros para acceder a los nodos hijos. Pero es una instancia del tipo <code>NodeList</code>, no un array real, por lo que no tiene m√©todos como <code>slice</code> y <code>map</code>.</p>

<p><a class="p_ident" id="p-tzOiNEaMGp" href="#p-tzOiNEaMGp" tabindex="-1" role="presentation"></a>Luego, hay problemas que son simplemente de mala dise√±o. Por ejemplo, no hay forma de crear un nuevo nodo y agregar inmediatamente hijos o atributos a √©l. En su lugar, primero tienes que crearlo y luego agregar los hijos y atributos uno por uno, usando efectos secundarios. El c√≥digo que interact√∫a mucho con el DOM tiende a ser largo, repetitivo y feo.</p>

<p><a class="p_ident" id="p-Y1sw4qlX+/" href="#p-Y1sw4qlX+/" tabindex="-1" role="presentation"></a>Pero estos defectos no son fatales. Dado que JavaScript nos permite crear nuestras propias abstracciones, es posible dise√±ar formas mejoradas de expresar las operaciones que est√°s realizando. Muchas bibliotecas destinadas a la programaci√≥n del navegador vienen con herramientas de este tipo.</p>

<h2><a class="h_ident" id="h-hqeynBcGZ3" href="#h-hqeynBcGZ3" tabindex="-1" role="presentation"></a>Movimiento a trav√©s del √°rbol</h2>

<p><a class="p_ident" id="p-kI4PvyIWyL" href="#p-kI4PvyIWyL" tabindex="-1" role="presentation"></a>Los nodos DOM contienen una gran cantidad de enlaces a otros nodos cercanos. El siguiente diagrama ilustra esto:</p><figure><img src="img/html-links.svg" alt="Diagrama que muestra los enlaces entre nodos DOM. El nodo 'body' se muestra como un cuadro, con una flecha 'firstChild' apuntando al nodo 'h1' en su inicio, una flecha 'lastChild' apuntando al √∫ltimo nodo de p√°rrafo, y una flecha 'childNodes' apuntando a un array de enlaces a todos sus hijos. El p√°rrafo del medio tiene una flecha 'previousSibling' apuntando al nodo anterior, una flecha 'nextSibling' al nodo siguiente, y una flecha 'parentNode' apuntando al nodo 'body'."></figure>

<p><a class="p_ident" id="p-ODAPWxxB4g" href="#p-ODAPWxxB4g" tabindex="-1" role="presentation"></a>Aunque el diagrama muestra solo un enlace de cada tipo, cada nodo tiene una propiedad <code>parentNode</code> que apunta al nodo del que forma parte, si lo hay. De igual manera, cada nodo de elemento (tipo 1) tiene una propiedad <code>childNodes</code> que apunta a un objeto similar a un array que contiene sus hijos.</p>

<p><a class="p_ident" id="p-qKmzlzsrsb" href="#p-qKmzlzsrsb" tabindex="-1" role="presentation"></a>En teor√≠a, podr√≠as moverte por todo el √°rbol utilizando solo estos enlaces padre e hijo. Pero JavaScript tambi√©n te da acceso a varios enlaces de conveniencia adicionales. Las propiedades <code>firstChild</code> y <code>lastChild</code> apuntan a los primeros y √∫ltimos elementos hijos o tienen el valor <code>null</code> para nodos sin hijos. De manera similar, <code>previousSibling</code> y <code>nextSibling</code> apuntan a nodos adyacentes, que son nodos con el mismo padre que aparecen inmediatamente antes o despu√©s del nodo en s√≠. Para un primer hijo, <code>previousSibling</code> ser√° nulo, y para un √∫ltimo hijo, <code>nextSibling</code> ser√° nulo.</p>

<p><a class="p_ident" id="p-/JUBta+lKY" href="#p-/JUBta+lKY" tabindex="-1" role="presentation"></a>Tambi√©n est√° la propiedad <code>children</code>, que es como <code>childNodes</code> pero contiene solo hijos de elementos (tipo 1), no otros tipos de nodos hijos. Esto puede ser √∫til cuando no est√°s interesado en nodos de texto.</p>

<p><a class="p_ident" id="p-/XA4Ivap77" href="#p-/XA4Ivap77" tabindex="-1" role="presentation"></a>Cuando se trabaja con una estructura de datos anidada como esta, las funciones recursivas son frecuentemente √∫tiles. La siguiente funci√≥n examina un documento en busca de nodos de texto que contengan una cadena espec√≠fica y devuelve <code>true</code> cuando ha encontrado uno:</p>

<pre id="talksAbout" tabindex="0" class="snippet" data-language="javascript"  data-sandbox="homepage"><a class="c_ident" id="c-6KSTCjrgG9" href="#c-6KSTCjrgG9" tabindex="-1" role="presentation"></a><span class="tok-keyword">function</span> <span class="tok-definition">talksAbout</span>(<span class="tok-definition">node</span>, <span class="tok-definition">cadena</span>) {
  <span class="tok-keyword">if</span> (node.nodeType == Node.ELEMENT_NODE) {
    <span class="tok-keyword">for</span> (<span class="tok-keyword">let</span> <span class="tok-definition">child</span> <span class="tok-keyword">of</span> node.childNodes) {
      <span class="tok-keyword">if</span> (talksAbout(child, cadena)) {
        <span class="tok-keyword">return</span> true;
      }
    }
    <span class="tok-keyword">return</span> false;
  } <span class="tok-keyword">else</span> <span class="tok-keyword">if</span> (node.nodeType == Node.TEXT_NODE) {
    <span class="tok-keyword">return</span> node.nodeValue.indexOf(cadena) &gt; -<span class="tok-number">1</span>;
  }
}

console.log(talksAbout(document.body, <span class="tok-string">&quot;libro&quot;</span>));
<span class="tok-comment">// ‚Üí true</span></pre>

<p><a class="p_ident" id="p-Ie2TK4QlBd" href="#p-Ie2TK4QlBd" tabindex="-1" role="presentation"></a>La propiedad <code>nodeValue</code> de un nodo de texto contiene la cadena de texto que representa.</p>

<h2><a class="h_ident" id="h-k3Afv/jCsp" href="#h-k3Afv/jCsp" tabindex="-1" role="presentation"></a>Encontrando elementos</h2>

<p><a class="p_ident" id="p-wxJsE++RA+" href="#p-wxJsE++RA+" tabindex="-1" role="presentation"></a>Navegar por estos enlaces entre padres, hijos y hermanos a menudo es √∫til. Pero si queremos encontrar un nodo espec√≠fico en el documento, llegar a √©l empezando por <code>document.body</code> y siguiendo un camino fijo de propiedades no es una buena idea. Hacerlo implica hacer suposiciones en nuestro programa sobre la estructura precisa del documento, una estructura que podr√≠as querer cambiar m√°s adelante. Otro factor complicador es que se crean nodos de texto incluso para los espacios en blanco entre nodos. La etiqueta <code>&lt;body&gt;</code> del documento de ejemplo no tiene solo tres hijos (<code>&lt;h1&gt;</code> y dos elementos <code>&lt;p&gt;</code>) sino que en realidad tiene siete: esos tres, m√°s los espacios en blanco antes, despu√©s y entre ellos.</p>

<p><a class="p_ident" id="p-8a6WVHx6KJ" href="#p-8a6WVHx6KJ" tabindex="-1" role="presentation"></a>Por lo tanto, si queremos obtener el atributo <code>href</code> del enlace en ese documento, no queremos decir algo como ‚ÄúObtener el segundo hijo del sexto hijo del cuerpo del documento‚Äù. Ser√≠a mejor si pudi√©ramos decir ‚ÄúObtener el primer enlace en el documento‚Äù. Y podemos hacerlo.</p>

<pre tabindex="0" class="snippet" data-language="javascript"  data-sandbox="homepage"><a class="c_ident" id="c-Q+UpozZHWD" href="#c-Q+UpozZHWD" tabindex="-1" role="presentation"></a><span class="tok-keyword">let</span> <span class="tok-definition">enlace</span> = document.body.getElementsByTagName(<span class="tok-string">&quot;a&quot;</span>)[<span class="tok-number">0</span>];
console.log(enlace.href);</pre>

<p><a class="p_ident" id="p-iLuQIDPO93" href="#p-iLuQIDPO93" tabindex="-1" role="presentation"></a>Todos los nodos de elemento tienen un m√©todo <code>getElementsByTagName</code>, que recoge todos los elementos con el nombre de etiqueta dado que son descendientes (hijos directos o indirectos) de ese nodo y los devuelve como un objeto similar a un array.</p>

<p><a class="p_ident" id="p-Bhw4JRPAcq" href="#p-Bhw4JRPAcq" tabindex="-1" role="presentation"></a>Para encontrar un nodo espec√≠fico <em>√∫nico</em>, puedes darle un atributo <code>id</code> y usar <code>document.<wbr>getElementById</code> en su lugar.</p>

<pre tabindex="0" class="snippet" data-language="html" ><a class="c_ident" id="c-uZyzwJ0nAb" href="#c-uZyzwJ0nAb" tabindex="-1" role="presentation"></a>&lt;<span class="tok-typeName">p</span>&gt;Mi avestruz Gertrudis:&lt;/<span class="tok-typeName">p</span>&gt;
&lt;<span class="tok-typeName">p</span>&gt;&lt;<span class="tok-typeName">img</span> id=<span class="tok-string">&quot;gertrudis&quot;</span> src=<span class="tok-string">&quot;img/ostrich.png&quot;</span>&gt;&lt;/<span class="tok-typeName">p</span>&gt;

&lt;<span class="tok-typeName">script</span>&gt;
  <span class="tok-keyword">let</span> <span class="tok-definition">ostrich</span> = document.getElementById(<span class="tok-string">&quot;gertrudis&quot;</span>);
  console.log(ostrich.src);
&lt;/<span class="tok-typeName">script</span>&gt;</pre>

<p><a class="p_ident" id="p-EywnjYOy/I" href="#p-EywnjYOy/I" tabindex="-1" role="presentation"></a>Un tercer m√©todo similar es <code>getElementsByClassName</code>, que, al igual que <code>getElementsByTagName</code>, busca a trav√©s del contenido de un nodo de elemento y recupera todos los elementos que tienen la cadena dada en su atributo <code>class</code>.</p>

<h2><a class="h_ident" id="h-EjVaQgERdd" href="#h-EjVaQgERdd" tabindex="-1" role="presentation"></a>Cambiando el documento</h2>

<p><a class="p_ident" id="p-41N9V1W1OM" href="#p-41N9V1W1OM" tabindex="-1" role="presentation"></a>Casi todo se puede cambiar en la estructura de datos del DOM. La forma del √°rbol del documento se puede modificar cambiando las relaciones padre-hijo. Los nodos tienen un m√©todo <code>remove</code> para removerlos de su nodo padre actual. Para a√±adir un nodo hijo a un nodo de elemento, podemos usar <code>appendChild</code>, que lo coloca al final de la lista de hijos, o <code>insertBefore</code>, que inserta el nodo dado como primer argumento antes del nodo dado como segundo argumento.</p>

<pre tabindex="0" class="snippet" data-language="html" ><a class="c_ident" id="c-DiYstIpu+b" href="#c-DiYstIpu+b" tabindex="-1" role="presentation"></a>&lt;<span class="tok-typeName">p</span>&gt;Uno&lt;/<span class="tok-typeName">p</span>&gt;
&lt;<span class="tok-typeName">p</span>&gt;Dos&lt;/<span class="tok-typeName">p</span>&gt;
&lt;<span class="tok-typeName">p</span>&gt;Tres&lt;/<span class="tok-typeName">p</span>&gt;

&lt;<span class="tok-typeName">script</span>&gt;
  <span class="tok-keyword">let</span> <span class="tok-definition">p√°rrafos</span> = document.body.getElementsByTagName(<span class="tok-string">&quot;p&quot;</span>);
  document.body.insertBefore(p√°rrafos[<span class="tok-number">2</span>], p√°rrafos[<span class="tok-number">0</span>]);
&lt;/<span class="tok-typeName">script</span>&gt;</pre>

<p><a class="p_ident" id="p-8GdIJvgDiR" href="#p-8GdIJvgDiR" tabindex="-1" role="presentation"></a>Un nodo puede existir en el documento en un solo lugar. Por lo tanto, insertar el p√°rrafo <em>Tres</em> delante del p√°rrafo <em>Uno</em> primero lo remover√° del final del documento y luego lo insertar√° al principio, resultando en <em>Tres</em>/<em>Uno</em>/<em>Dos</em>. Todas las operaciones que insertan un nodo en alg√∫n lugar causar√°n, como un efecto secundario, que se elimine de su posici√≥n actual (si tiene una).</p>

<p><a class="p_ident" id="p-R8YZxIkFt/" href="#p-R8YZxIkFt/" tabindex="-1" role="presentation"></a>El m√©todo <code>replaceChild</code> se usa para reemplazar un nodo hijo con otro. Toma como argumentos dos nodos: un nodo nuevo y el nodo que se reemplazar√°. El nodo reemplazado debe ser un hijo del elemento en el que se llama el m√©todo. Ten en cuenta que tanto <code>replaceChild</code> como <code>insertBefore</code> esperan que el nodo <em>nuevo</em> sea su primer argumento.</p>

<h2><a class="h_ident" id="h-3fA2hLFRzg" href="#h-3fA2hLFRzg" tabindex="-1" role="presentation"></a>Creaci√≥n de nodos</h2>

<p><a class="p_ident" id="p-UPx1X4HsEF" href="#p-UPx1X4HsEF" tabindex="-1" role="presentation"></a>Digamos que queremos escribir un script que reemplace todas las im√°genes (etiquetas <code>&lt;img&gt;</code>) en el documento con el texto contenido en sus atributos <code>alt</code>, que especifica una representaci√≥n textual alternativa de la imagen.</p>

<p><a class="p_ident" id="p-AxXG9B1BFJ" href="#p-AxXG9B1BFJ" tabindex="-1" role="presentation"></a>Esto implica no solo eliminar las im√°genes sino agregar un nuevo nodo de texto para reemplazarlas.</p>

<pre tabindex="0" class="snippet" data-language="html" ><a class="c_ident" id="c-x13nsyh4X4" href="#c-x13nsyh4X4" tabindex="-1" role="presentation"></a>&lt;<span class="tok-typeName">p</span>&gt;The &lt;<span class="tok-typeName">img</span> src=<span class="tok-string">&quot;img/cat.png&quot;</span> alt=<span class="tok-string">&quot;Cat&quot;</span>&gt; in the
  &lt;<span class="tok-typeName">img</span> src=<span class="tok-string">&quot;img/hat.png&quot;</span> alt=<span class="tok-string">&quot;Hat&quot;</span>&gt;.&lt;/<span class="tok-typeName">p</span>&gt;

&lt;<span class="tok-typeName">p</span>&gt;&lt;<span class="tok-typeName">button</span> onclick=<span class="tok-string">&quot;</span>replaceImages()<span class="tok-string">&quot;</span>&gt;Replace&lt;/<span class="tok-typeName">button</span>&gt;&lt;/<span class="tok-typeName">p</span>&gt;

&lt;<span class="tok-typeName">script</span>&gt;
  <span class="tok-keyword">function</span> <span class="tok-definition">replaceImages</span>() {
    <span class="tok-keyword">let</span> <span class="tok-definition">images</span> = document.body.getElementsByTagName(<span class="tok-string">&quot;img&quot;</span>);
    <span class="tok-keyword">for</span> (<span class="tok-keyword">let</span> <span class="tok-definition">i</span> = images.length - <span class="tok-number">1</span>; i &gt;= <span class="tok-number">0</span>; i--) {
      <span class="tok-keyword">let</span> <span class="tok-definition">image</span> = images[i];
      <span class="tok-keyword">if</span> (image.alt) {
        <span class="tok-keyword">let</span> <span class="tok-definition">text</span> = document.createTextNode(image.alt);
        image.parentNode.replaceChild(text, image);
      }
    }
  }
&lt;/<span class="tok-typeName">script</span>&gt;</pre>

<p><a class="p_ident" id="p-O1acD/zGj7" href="#p-O1acD/zGj7" tabindex="-1" role="presentation"></a>Dada una cadena, <code>createTextNode</code> nos da un nodo de texto que podemos insertar en el documento para que aparezca en la pantalla.</p>

<p><a class="p_ident" id="p-jPComIxh0V" href="#p-jPComIxh0V" tabindex="-1" role="presentation"></a>El bucle que recorre las im√°genes comienza al final de la lista. Esto es necesario porque la lista de nodos devuelta por un m√©todo como <code>getElementsByTagName</code> (o una propiedad como <code>childNodes</code>) es <em>din√°mica</em>. Es decir, se actualiza a medida que el documento cambia. Si comenz√°ramos desde el principio, al quitar la primera imagen har√≠a que la lista perdiera su primer elemento, por lo que la segunda vez que se repita el bucle, cuando <code>i</code> es 1, se detendr√≠a porque la longitud de la colecci√≥n ahora tambi√©n es 1.</p>

<p><a class="p_ident" id="p-LbdZbfAq1V" href="#p-LbdZbfAq1V" tabindex="-1" role="presentation"></a>Si quieres tener una colecci√≥n <em>s√≥lida</em> de nodos, en lugar de una en vivo, puedes convertir la colecci√≥n en un array real llamando a <code>Array.from</code>.</p>

<pre tabindex="0" class="snippet" data-language="javascript" ><a class="c_ident" id="c-UMv2sA5GAX" href="#c-UMv2sA5GAX" tabindex="-1" role="presentation"></a><span class="tok-keyword">let</span> <span class="tok-definition">arrayish</span> = {<span class="tok-number">0</span>: <span class="tok-string">&quot;uno&quot;</span>, <span class="tok-number">1</span>: <span class="tok-string">&quot;dos&quot;</span>, <span class="tok-definition">length</span>: <span class="tok-number">2</span>};
<span class="tok-keyword">let</span> <span class="tok-definition">array</span> = Array.from(arrayish);
console.log(array.map(<span class="tok-definition">s</span> =&gt; s.toUpperCase()));
<span class="tok-comment">// ‚Üí [&quot;UNO&quot;, &quot;DOS&quot;]</span></pre>

<p><a class="p_ident" id="p-iG9fNNpI8L" href="#p-iG9fNNpI8L" tabindex="-1" role="presentation"></a>Para crear nodos elemento, puedes utilizar el m√©todo <code>document.<wbr>createElement</code>. Este m√©todo toma un nombre de etiqueta y devuelve un nuevo nodo vac√≠o del tipo dado.</p>

<p id="elt"><a class="p_ident" id="p-a4L1nizZRc" href="#p-a4L1nizZRc" tabindex="-1" role="presentation"></a>El siguiente ejemplo define una utilidad <code>elt</code>, que crea un nodo de elemento y trata el resto de sus argumentos como hijos de ese nodo. Luego, esta funci√≥n se utiliza para agregar una atribuci√≥n a una cita.</p>

<pre tabindex="0" class="snippet" data-language="html" ><a class="c_ident" id="c-aBeAygY96j" href="#c-aBeAygY96j" tabindex="-1" role="presentation"></a>&lt;<span class="tok-typeName">blockquote</span> id=<span class="tok-string">&quot;quote&quot;</span>&gt;
  Ning√∫n libro puede considerarse terminado. Mientras trabajamos en √©l aprendemos
  lo suficiente como para encontrarlo inmaduro en el momento en que lo dejamos.
&lt;/<span class="tok-typeName">blockquote</span>&gt;

&lt;<span class="tok-typeName">script</span>&gt;
  <span class="tok-keyword">function</span> <span class="tok-definition">elt</span>(<span class="tok-definition">type</span>, ...<span class="tok-definition">children</span>) {
    <span class="tok-keyword">let</span> <span class="tok-definition">node</span> = document.createElement(type);
    <span class="tok-keyword">for</span> (<span class="tok-keyword">let</span> <span class="tok-definition">child</span> <span class="tok-keyword">of</span> children) {
      <span class="tok-keyword">if</span> (<span class="tok-keyword">typeof</span> child != <span class="tok-string">&quot;string&quot;</span>) node.appendChild(child);
      <span class="tok-keyword">else</span> node.appendChild(document.createTextNode(child));
    }
    <span class="tok-keyword">return</span> node;
  }

  document.getElementById(<span class="tok-string">&quot;quote&quot;</span>).appendChild(
    elt(<span class="tok-string">&quot;footer&quot;</span>, <span class="tok-string">&quot;‚Äî&quot;</span>,
        elt(<span class="tok-string">&quot;strong&quot;</span>, <span class="tok-string">&quot;Karl Popper&quot;</span>),
        <span class="tok-string">&quot;, prefacio de la segunda edici√≥n de &quot;</span>,
        elt(<span class="tok-string">&quot;em&quot;</span>, <span class="tok-string">&quot;La sociedad abierta y sus enemigos&quot;</span>),
        <span class="tok-string">&quot;, 1950&quot;</span>));
&lt;/<span class="tok-typeName">script</span>&gt;</pre>

<h2><a class="h_ident" id="h-vZcxSH0zRq" href="#h-vZcxSH0zRq" tabindex="-1" role="presentation"></a>Atributos</h2>

<p><a class="p_ident" id="p-bZqyuYKpeZ" href="#p-bZqyuYKpeZ" tabindex="-1" role="presentation"></a>Algunos atributos de elementos, como <code>href</code> para enlaces, pueden ser accedidos a trav√©s de una propiedad con el mismo nombre en el objeto DOM del elemento. Este es el caso para la mayor√≠a de atributos est√°ndar com√∫nmente usados.</p>

<p><a class="p_ident" id="p-LxuPYiH1Kn" href="#p-LxuPYiH1Kn" tabindex="-1" role="presentation"></a>HTML te permite establecer cualquier atributo que desees en los nodos. Esto puede ser √∫til porque te permite almacenar informaci√≥n adicional en un documento. Para leer o cambiar atributos personalizados, que no est√°n disponibles como propiedades regulares del objeto, debes usar los m√©todos <code>getAttribute</code> y <code>setAttribute</code>.</p>

<pre tabindex="0" class="snippet" data-language="html" ><a class="c_ident" id="c-zGszwELC18" href="#c-zGszwELC18" tabindex="-1" role="presentation"></a>&lt;<span class="tok-typeName">p</span> data-classified=<span class="tok-string">&quot;secreto&quot;</span>&gt;El c√≥digo de lanzamiento es 00000000.&lt;/<span class="tok-typeName">p</span>&gt;
&lt;<span class="tok-typeName">p</span> data-classified=<span class="tok-string">&quot;no clasificado&quot;</span>&gt;Tengo dos pies.&lt;/<span class="tok-typeName">p</span>&gt;

&lt;<span class="tok-typeName">script</span>&gt;
  <span class="tok-keyword">let</span> <span class="tok-definition">paras</span> = document.body.getElementsByTagName(<span class="tok-string">&quot;p&quot;</span>);
  <span class="tok-keyword">for</span> (<span class="tok-keyword">let</span> <span class="tok-definition">para</span> <span class="tok-keyword">of</span> Array.from(paras)) {
    <span class="tok-keyword">if</span> (para.getAttribute(<span class="tok-string">&quot;data-classified&quot;</span>) == <span class="tok-string">&quot;secreto&quot;</span>) {
      para.remove();
    }
  }
&lt;/<span class="tok-typeName">script</span>&gt;</pre>

<p><a class="p_ident" id="p-yy4/AgoR0n" href="#p-yy4/AgoR0n" tabindex="-1" role="presentation"></a>Se recomienda prefijar los nombres de estos atributos inventados con <code>data-</code> para asegurarse de que no entren en conflicto con otros atributos.</p>

<p><a class="p_ident" id="p-rasbS3lHsv" href="#p-rasbS3lHsv" tabindex="-1" role="presentation"></a>Existe un atributo com√∫nmente usado, <code>class</code>, que es una palabra clave en el lenguaje JavaScript. Por razones hist√≥ricas‚Äîalgunas implementaciones antiguas de JavaScript no pod√≠an manejar nombres de propiedades que coincidieran con palabras clave‚Äîla propiedad utilizada para acceder a este atributo se llama <code>className</code>. Tambi√©n puedes acceder a √©l con su nombre real, <code>&quot;class&quot;</code>, utilizando los m√©todos <code>getAttribute</code> y <code>setAttribute</code>.</p>

<h2><a class="h_ident" id="h-3+hJ1EAoa5" href="#h-3+hJ1EAoa5" tabindex="-1" role="presentation"></a>Dise√±o</h2>

<p><a class="p_ident" id="p-vgjsqh+iz1" href="#p-vgjsqh+iz1" tabindex="-1" role="presentation"></a>Puede que hayas notado que diferentes tipos de elementos se disponen de manera diferente. Algunos, como p√°rrafos (<code>&lt;p&gt;</code>) o encabezados (<code>&lt;h1&gt;</code>), ocupan todo el ancho del documento y se muestran en l√≠neas separadas. Estos se llaman elementos de <em>bloque</em>. Otros, como enlaces (<code>&lt;a&gt;</code>) o el elemento <code>&lt;strong&gt;</code>, se muestran en la misma l√≠nea que el texto que los rodea. A estos elementos se les llama elementos <em>en l√≠nea</em>.</p>

<p><a class="p_ident" id="p-UhmyZIH23N" href="#p-UhmyZIH23N" tabindex="-1" role="presentation"></a>Para cualquier documento dado, los navegadores son capaces de calcular un dise√±o, que le da a cada elemento un tama√±o y posici√≥n basados en su tipo y contenido. Luego, este dise√±o se usa para dibujar el documento realmente.</p>

<p><a class="p_ident" id="p-1rP/u69f/O" href="#p-1rP/u69f/O" tabindex="-1" role="presentation"></a>El tama√±o y posici√≥n de un elemento pueden ser accedidos desde JavaScript. Las propiedades <code>offsetWidth</code> y <code>offsetHeight</code> te dan el espacio que el elemento ocupa en <em>p√≠xeles</em>. Un p√≠xel es la unidad b√°sica de medida en el navegador. Tradicionalmente corresponde al punto m√°s peque√±o que la pantalla puede dibujar, pero en pantallas modernas, que pueden dibujar puntos <em>muy</em> peque√±os, eso puede que ya no sea cierto, y un p√≠xel del navegador puede abarcar m√∫ltiples puntos de la pantalla.</p>

<p><a class="p_ident" id="p-pTjdvMWejj" href="#p-pTjdvMWejj" tabindex="-1" role="presentation"></a>De manera similar, <code>clientWidth</code> y <code>clientHeight</code> te dan el tama√±o del espacio <em>dentro</em> del elemento, ignorando el ancho del borde.</p>

<pre tabindex="0" class="snippet" data-language="html" ><a class="c_ident" id="c-EyWKHP9vll" href="#c-EyWKHP9vll" tabindex="-1" role="presentation"></a>&lt;<span class="tok-typeName">p</span> style=<span class="tok-string">&quot;</span>border: <span class="tok-number">3</span><span class="tok-keyword">px</span> <span class="tok-atom">solid</span> <span class="tok-atom">red</span><span class="tok-string">&quot;</span>&gt;
  Estoy enmarcado
&lt;/<span class="tok-typeName">p</span>&gt;

&lt;<span class="tok-typeName">script</span>&gt;
  <span class="tok-keyword">let</span> <span class="tok-definition">para</span> = document.body.getElementsByTagName(<span class="tok-string">&quot;p&quot;</span>)[<span class="tok-number">0</span>];
  console.log(<span class="tok-string">&quot;clientHeight:&quot;</span>, para.clientHeight);
  <span class="tok-comment">// ‚Üí 19</span>
  console.log(<span class="tok-string">&quot;offsetHeight:&quot;</span>, para.offsetHeight);
  <span class="tok-comment">// ‚Üí 25</span>
&lt;/<span class="tok-typeName">script</span>&gt;</pre>

<p id="rect√°ngulo delimitador"><a class="p_ident" id="p-x9VDcFAD2/" href="#p-x9VDcFAD2/" tabindex="-1" role="presentation"></a>La manera m√°s efectiva de encontrar la posici√≥n precisa de un elemento en la pantalla es el m√©todo <code>getBoundingClientRect</code>. Devuelve un objeto con las propiedades <code>top</code>, <code>bottom</code>, <code>left</code> y <code>right</code>, indicando las posiciones en p√≠xeles de los lados del elemento en relaci√≥n con la esquina superior izquierda de la pantalla. Si los quieres en relaci√≥n al documento completo, debes sumar la posici√≥n actual de desplazamiento, que puedes encontrar en las variables <code>pageXOffset</code> y <code>pageYOffset</code>.</p>

<p><a class="p_ident" id="p-1CP2gBKXRb" href="#p-1CP2gBKXRb" tabindex="-1" role="presentation"></a>Dise√±ar un documento puede ser bastante trabajo. En aras de la rapidez, los motores de los navegadores no vuelven a dise√±ar inmediatamente un documento cada vez que se modifica, sino que esperan tanto como pueden. Cuando un programa de JavaScript que ha modificado el documento finaliza su ejecuci√≥n, el navegador tendr√° que calcular un nuevo dise√±o para dibujar el documento modificado en la pantalla. Cuando un programa <em>pide</em> la posici√≥n o tama√±o de algo leyendo propiedades como <code>offsetHeight</code> o llamando a <code>getBoundingClientRect</code>, proporcionar esa informaci√≥n tambi√©n requiere calcular un dise√±o.</p>

<p><a class="p_ident" id="p-xFjwC6rkaF" href="#p-xFjwC6rkaF" tabindex="-1" role="presentation"></a>Un programa que alterna repetidamente entre la lectura de informaci√≥n de dise√±o del DOM y el cambio del DOM provoca que se realicen muchas computaciones de dise√±o y, en consecuencia, se ejecute muy lentamente. El siguiente c√≥digo es un ejemplo de esto. Contiene dos programas diferentes que construyen una l√≠nea de caracteres <em>X</em> de 2,000 p√≠xeles de ancho y mide el tiempo que lleva cada uno.</p>

<pre tabindex="0" class="snippet" data-language="html" ><a class="c_ident" id="c-aqCEO54/Rg" href="#c-aqCEO54/Rg" tabindex="-1" role="presentation"></a>&lt;<span class="tok-typeName">p</span>&gt;&lt;<span class="tok-typeName">span</span> id=<span class="tok-string">&quot;one&quot;</span>&gt;&lt;/<span class="tok-typeName">span</span>&gt;&lt;/<span class="tok-typeName">p</span>&gt;
&lt;<span class="tok-typeName">p</span>&gt;&lt;<span class="tok-typeName">span</span> id=<span class="tok-string">&quot;two&quot;</span>&gt;&lt;/<span class="tok-typeName">span</span>&gt;&lt;/<span class="tok-typeName">p</span>&gt;

&lt;<span class="tok-typeName">script</span>&gt;
  <span class="tok-keyword">function</span> <span class="tok-definition">time</span>(<span class="tok-definition">name</span>, <span class="tok-definition">action</span>) {
    <span class="tok-keyword">let</span> <span class="tok-definition">start</span> = Date.now(); <span class="tok-comment">// Tiempo actual en milisegundos</span>
    action();
    console.log(name, <span class="tok-string">&quot;tom√≥&quot;</span>, Date.now() - start, <span class="tok-string">&quot;ms&quot;</span>);
  }

  time(<span class="tok-string">&quot;ingenuo&quot;</span>, () =&gt; {
    <span class="tok-keyword">let</span> <span class="tok-definition">target</span> = document.getElementById(<span class="tok-string">&quot;one&quot;</span>);
    <span class="tok-keyword">while</span> (target.offsetWidth &lt; <span class="tok-number">2000</span>) {
      target.appendChild(document.createTextNode(<span class="tok-string">&quot;X&quot;</span>));
    }
  });
  <span class="tok-comment">// ‚Üí ingenuo tom√≥ 32 ms</span>

  time(<span class="tok-string">&quot;astuto&quot;</span>, <span class="tok-keyword">function</span>() {
    <span class="tok-keyword">let</span> <span class="tok-definition">target</span> = document.getElementById(<span class="tok-string">&quot;two&quot;</span>);
    target.appendChild(document.createTextNode(<span class="tok-string">&quot;XXXXX&quot;</span>));
    <span class="tok-keyword">let</span> <span class="tok-definition">total</span> = Math.ceil(<span class="tok-number">2000</span> / (target.offsetWidth / <span class="tok-number">5</span>));
    target.firstChild.nodeValue = <span class="tok-string">&quot;X&quot;</span>.repeat(total);
  });
  <span class="tok-comment">// ‚Üí astuto tom√≥ 1 ms</span>
&lt;/<span class="tok-typeName">script</span>&gt;</pre>

<h2><a class="h_ident" id="h-cv0naTq5te" href="#h-cv0naTq5te" tabindex="-1" role="presentation"></a>Estilos</h2>

<p><a class="p_ident" id="p-seu4L5I6o5" href="#p-seu4L5I6o5" tabindex="-1" role="presentation"></a>Hemos visto que diferentes elementos HTML se dibujan de manera diferente. Algunos se muestran como bloques, otros en l√≠nea. Algunos agregan estilos: <code>&lt;strong&gt;</code> hace que su contenido sea negrita, y <code>&lt;a&gt;</code> lo hace azul y lo subraya.</p>

<p><a class="p_ident" id="p-CsZDnASj7a" href="#p-CsZDnASj7a" tabindex="-1" role="presentation"></a>La forma en que una etiqueta <code>&lt;img&gt;</code> muestra una imagen o una etiqueta <code>&lt;a&gt;</code> hace que se siga un enlace al hacer clic est√° fuertemente vinculada al tipo de elemento. Pero podemos cambiar el estilo asociado con un elemento, como el color del texto o el subrayado. Aqu√≠ hay un ejemplo que utiliza la propiedad <code>style</code>:</p>

<pre tabindex="0" class="snippet" data-language="html" ><a class="c_ident" id="c-bgo31+NA58" href="#c-bgo31+NA58" tabindex="-1" role="presentation"></a>&lt;<span class="tok-typeName">p</span>&gt;&lt;<span class="tok-typeName">a</span> href=<span class="tok-string">&quot;.&quot;</span>&gt;Enlace normal&lt;/<span class="tok-typeName">a</span>&gt;&lt;/<span class="tok-typeName">p</span>&gt;
&lt;<span class="tok-typeName">p</span>&gt;&lt;<span class="tok-typeName">a</span> href=<span class="tok-string">&quot;.&quot;</span> style=<span class="tok-string">&quot;</span>color: <span class="tok-atom">green</span><span class="tok-string">&quot;</span>&gt;Enlace verde&lt;/<span class="tok-typeName">a</span>&gt;&lt;/<span class="tok-typeName">p</span>&gt;</pre>

<p><a class="p_ident" id="p-AYyLF9kYh3" href="#p-AYyLF9kYh3" tabindex="-1" role="presentation"></a>Un atributo de estilo puede contener uno o m√°s <em>declaraci√≥nes</em>, que son una propiedad (como <code>color</code>) seguida de dos puntos y un valor (como <code>verde</code>). Cuando hay m√°s de una declaraci√≥n, deben separarse por punto y comas, como en <code>&quot;color: rojo; border: ninguno&quot;</code>.</p>

<p><a class="p_ident" id="p-jmgtDPsCf2" href="#p-jmgtDPsCf2" tabindex="-1" role="presentation"></a>Muchos aspectos del documento pueden ser influenciados por el estilo. Por ejemplo, la propiedad <code>display</code> controla si un elemento se muestra como un bloque o como un elemento en l√≠nea.</p>

<pre tabindex="0" class="snippet" data-language="html" ><a class="c_ident" id="c-WQQ5vzt2Oo" href="#c-WQQ5vzt2Oo" tabindex="-1" role="presentation"></a>Este texto se muestra de forma &lt;<span class="tok-typeName">strong</span>&gt;en l√≠nea&lt;/<span class="tok-typeName">strong</span>&gt;,
&lt;<span class="tok-typeName">strong</span> style=<span class="tok-string">&quot;</span>display: <span class="tok-atom">block</span><span class="tok-string">&quot;</span>&gt;como un bloque&lt;/<span class="tok-typeName">strong</span>&gt;, y
&lt;<span class="tok-typeName">strong</span> style=<span class="tok-string">&quot;</span>display: <span class="tok-atom">none</span><span class="tok-string">&quot;</span>&gt;no del todo&lt;/<span class="tok-typeName">strong</span>&gt;.</pre>

<p><a class="p_ident" id="p-RuhythK22j" href="#p-RuhythK22j" tabindex="-1" role="presentation"></a>La etiqueta <code>block</code> terminar√° en su propia l√≠nea ya que los elementos de bloque no se muestran en l√≠nea con el texto que los rodea. La √∫ltima etiqueta no se muestra en absoluto: <code>display: none</code> evita que un elemento aparezca en la pantalla. Esta es una forma de ocultar elementos. A menudo es preferible a eliminarlos completamente del documento porque facilita revelarlos nuevamente m√°s tarde.</p>

<p><a class="p_ident" id="p-qNgOLOJTyi" href="#p-qNgOLOJTyi" tabindex="-1" role="presentation"></a>El c√≥digo JavaScript puede manipular directamente el estilo de un elemento a trav√©s de la propiedad <code>style</code> del elemento. Esta propiedad contiene un objeto que tiene propiedades para todas las posibles propiedades de estilo. Los valores de estas propiedades son cadenas de texto, a las cuales podemos escribir para cambiar un aspecto particular del estilo del elemento.</p>

<pre tabindex="0" class="snippet" data-language="html" ><a class="c_ident" id="c-hETupBqRzy" href="#c-hETupBqRzy" tabindex="-1" role="presentation"></a>&lt;<span class="tok-typeName">p</span> id=<span class="tok-string">&quot;para&quot;</span> style=<span class="tok-string">&quot;</span>color: <span class="tok-atom">purple</span><span class="tok-string">&quot;</span>&gt;
  Texto bonito
&lt;/<span class="tok-typeName">p</span>&gt;

&lt;<span class="tok-typeName">script</span>&gt;
  <span class="tok-keyword">let</span> <span class="tok-definition">para</span> = document.getElementById(<span class="tok-string">&quot;para&quot;</span>);
  console.log(para.style.color);
  para.style.color = <span class="tok-string">&quot;magenta&quot;</span>;
&lt;/<span class="tok-typeName">script</span>&gt;</pre>

<p><a class="p_ident" id="p-YruEPufhyn" href="#p-YruEPufhyn" tabindex="-1" role="presentation"></a>Algunos nombres de propiedades de estilo contienen guiones, como <code>font-family</code>. Debido a que trabajar con estos nombres de propiedades en JavaScript es inc√≥modo (tendr√≠as que decir <code>style[&quot;font-family&quot;]</code>), los nombres de las propiedades en el objeto <code>style</code> para tales propiedades tienen los guiones eliminados y las letras posterior a ellos en may√∫scula (<code>style.fontFamily</code>).</p>

<h2><a class="h_ident" id="h-nTpjcUlubm" href="#h-nTpjcUlubm" tabindex="-1" role="presentation"></a>Estilos en cascada</h2>

<p><a class="p_ident" id="p-XC76tolu1R" href="#p-XC76tolu1R" tabindex="-1" role="presentation"></a>El sistema de estilos para HTML se llama CSS, por sus siglas en ingl√©s, <em>Cascading Style Sheets</em>. Una <em>hoja de estilo</em> es un conjunto de reglas sobre c√≥mo dar estilo a los elementos en un documento. Puede ser proporcionada dentro de una etiqueta <code>&lt;style&gt;</code>.</p>

<pre tabindex="0" class="snippet" data-language="html" ><a class="c_ident" id="c-hf+0aERbE6" href="#c-hf+0aERbE6" tabindex="-1" role="presentation"></a>&lt;<span class="tok-typeName">style</span>&gt;
  <span class="tok-typeName">strong</span> {
    font-style: <span class="tok-atom">italic</span>;
    color: <span class="tok-atom">gray</span>;
  }
&lt;/<span class="tok-typeName">style</span>&gt;
&lt;<span class="tok-typeName">p</span>&gt;Ahora el &lt;<span class="tok-typeName">strong</span>&gt;texto fuerte&lt;/<span class="tok-typeName">strong</span>&gt; es cursiva y gris.&lt;/<span class="tok-typeName">p</span>&gt;</pre>

<p><a class="p_ident" id="p-c0Y1XlVJ+b" href="#p-c0Y1XlVJ+b" tabindex="-1" role="presentation"></a>El <em>cascada</em> en el nombre se refiere al hecho de que m√∫ltiples reglas de este tipo se combinan para producir el estilo final de un elemento. En el ejemplo, el estilo predeterminado de las etiquetas <code>&lt;strong&gt;</code>, que les da <code>font-weight: bold</code>, se superpone por la regla en la etiqueta <code>&lt;style&gt;</code>, que agrega <code>font-style</code> y <code>color</code>.</p>

<p><a class="p_ident" id="p-bu7knnS02i" href="#p-bu7knnS02i" tabindex="-1" role="presentation"></a>Cuando m√∫ltiples reglas definen un valor para la misma propiedad, la regla m√°s recientemente le√≠da obtiene una precedencia m√°s alta y gana. Por lo tanto, si la regla en la etiqueta <code>&lt;style&gt;</code> incluyera <code>font-weight: normal</code>, contradiciendo la regla predeterminada de <code>font-weight</code>, el texto ser√≠a normal, <em>no</em> negrita. Los estilos en un atributo <code>style</code> aplicado directamente al nodo tienen la mayor precedencia y siempre prevalecen.</p>

<p><a class="p_ident" id="p-pDky2YF6um" href="#p-pDky2YF6um" tabindex="-1" role="presentation"></a>Es posible apuntar a cosas distintas de los nombres de etiqueta en reglas de CSS. Una regla para <code>.abc</code> se aplica a todos los elementos con <code>&quot;abc&quot;</code> en su atributo <code>class</code>. Una regla para <code>#xyz</code> se aplica al elemento con un atributo <code>id</code> de <code>&quot;xyz&quot;</code> (que deber√≠a ser √∫nico dentro del documento).</p>

<pre class="snippet" data-language="css" ><a class="c_ident" id="c-j5kpjTnBhs" href="#c-j5kpjTnBhs" tabindex="-1" role="presentation"></a>.subtle {
  color: <span class="tok-atom">gray</span>;
  font-size: <span class="tok-number">80</span><span class="tok-keyword">%</span>;
}
#header {
  background: <span class="tok-atom">blue</span>;
  color: <span class="tok-atom">white</span>;
}
<span class="tok-comment">/* elementos p con id main y con clases a y b */</span>
<span class="tok-typeName">p</span>#main.a.b {
  margin-bottom: <span class="tok-number">20</span><span class="tok-keyword">px</span>;
}</pre>

<p><a class="p_ident" id="p-7aLTXAE2Vt" href="#p-7aLTXAE2Vt" tabindex="-1" role="presentation"></a>La regla de precedencia que favorece a la regla m√°s recientemente definida se aplica solo cuando las reglas tienen la misma <em>especificidad</em>. La especificidad de una regla es una medida de qu√© tan precisamente describe los elementos que coinciden, determinada por el n√∫mero y tipo (etiqueta, clase o ID) de aspectos de elementos que requiere. Por ejemplo, una regla que apunta a <code>p.a</code> es m√°s espec√≠fica que las reglas que apuntan a <code>p</code> o simplemente <code>.a</code> y, por lo tanto, tendr√≠a precedencia sobre ellas.</p>

<p><a class="p_ident" id="p-7tkPYtY0mq" href="#p-7tkPYtY0mq" tabindex="-1" role="presentation"></a>La notaci√≥n <code>p &gt; a {‚Ä¶}</code> aplica los estilos dados a todas las etiquetas <code>&lt;a&gt;</code> que son hijos directos de etiquetas <code>&lt;p&gt;</code>. De manera similar, <code>p a {‚Ä¶}</code> se aplica a todas las etiquetas <code>&lt;a&gt;</code> dentro de las etiquetas <code>&lt;p&gt;</code>, ya sean hijos directos o indirectos.</p>

<h2><a class="h_ident" id="h-2xww2G0Ig3" href="#h-2xww2G0Ig3" tabindex="-1" role="presentation"></a>Selectores de consulta</h2>

<p><a class="p_ident" id="p-0c8DFK/DUS" href="#p-0c8DFK/DUS" tabindex="-1" role="presentation"></a>No vamos a usar hojas de estilo demasiado en este libro. Entenderlas es √∫til cuando se programa en el navegador, pero son lo suficientemente complicadas como para justificar un libro aparte.</p>

<p><a class="p_ident" id="p-vr+TMCFKlE" href="#p-vr+TMCFKlE" tabindex="-1" role="presentation"></a>La raz√≥n principal por la que introduje la sintaxis <em>selector</em>‚Äîla notaci√≥n utilizada en las hojas de estilo para determinar a qu√© elementos se aplican un conjunto de estilos‚Äî es que podemos utilizar este mismo mini-lenguaje como una forma efectiva de encontrar elementos del DOM.</p>

<p><a class="p_ident" id="p-OZdBTd/l6p" href="#p-OZdBTd/l6p" tabindex="-1" role="presentation"></a>El m√©todo <code>querySelectorAll</code>, que est√° definido tanto en el objeto <code>document</code> como en los nodos de elementos, toma una cadena de selector y devuelve un <code>NodeList</code> que contiene todos los elementos que encuentra.</p>

<pre tabindex="0" class="snippet" data-language="html" ><a class="c_ident" id="c-ybdXxCLxUN" href="#c-ybdXxCLxUN" tabindex="-1" role="presentation"></a>&lt;<span class="tok-typeName">p</span>&gt;And if you go chasing
  &lt;<span class="tok-typeName">span</span> class=<span class="tok-string">&quot;animal&quot;</span>&gt;rabbits&lt;/<span class="tok-typeName">span</span>&gt;&lt;/<span class="tok-typeName">p</span>&gt;
&lt;<span class="tok-typeName">p</span>&gt;And you know you're going to fall&lt;/<span class="tok-typeName">p</span>&gt;
&lt;<span class="tok-typeName">p</span>&gt;Tell 'em a &lt;<span class="tok-typeName">span</span> class=<span class="tok-string">&quot;character&quot;</span>&gt;hookah smoking
  &lt;<span class="tok-typeName">span</span> class=<span class="tok-string">&quot;animal&quot;</span>&gt;caterpillar&lt;/<span class="tok-typeName">span</span>&gt;&lt;/<span class="tok-typeName">span</span>&gt;&lt;/<span class="tok-typeName">p</span>&gt;
&lt;<span class="tok-typeName">p</span>&gt;Has given you the call&lt;/<span class="tok-typeName">p</span>&gt;

&lt;<span class="tok-typeName">script</span>&gt;
  <span class="tok-keyword">function</span> <span class="tok-definition">count</span>(<span class="tok-definition">selector</span>) {
    <span class="tok-keyword">return</span> document.querySelectorAll(selector).length;
  }
  console.log(count(<span class="tok-string">&quot;p&quot;</span>));           <span class="tok-comment">// Todos los elementos &lt;p&gt;</span>
  <span class="tok-comment">// ‚Üí 4</span>
  console.log(count(<span class="tok-string">&quot;.animal&quot;</span>));     <span class="tok-comment">// Clase animal</span>
  <span class="tok-comment">// ‚Üí 2</span>
  console.log(count(<span class="tok-string">&quot;p .animal&quot;</span>));   <span class="tok-comment">// Animal dentro de &lt;p&gt;</span>
  <span class="tok-comment">// ‚Üí 2</span>
  console.log(count(<span class="tok-string">&quot;p &gt; .animal&quot;</span>)); <span class="tok-comment">// Hijo directo de &lt;p&gt;</span>
  <span class="tok-comment">// ‚Üí 1</span>
&lt;/<span class="tok-typeName">script</span>&gt;</pre>

<p><a class="p_ident" id="p-30dhoV1yIT" href="#p-30dhoV1yIT" tabindex="-1" role="presentation"></a>A diferencia de m√©todos como <code>getElementsByTagName</code>, el objeto devuelto por <code>querySelectorAll</code> <em>no</em> es din√°mico. No cambiar√° cuando cambies el documento. Aun as√≠, no es un array real, por lo que necesitas llamar a <code>Array.from</code> si deseas tratarlo como tal.</p>

<p><a class="p_ident" id="p-ekjGpAGiW6" href="#p-ekjGpAGiW6" tabindex="-1" role="presentation"></a>El m√©todo <code>querySelector</code> (sin la parte <code>All</code>) funciona de manera similar. Este es √∫til si deseas un elemento espec√≠fico y √∫nico. Solo devolver√° el primer elemento coincidente o <code>null</code> cuando no haya ning√∫n elemento coincidente.</p>

<h2 id="animation"><a class="h_ident" id="h-ja3JZukaEb" href="#h-ja3JZukaEb" tabindex="-1" role="presentation"></a>Posicionamiento y animaci√≥n</h2>

<p><a class="p_ident" id="p-YmSisoZPOk" href="#p-YmSisoZPOk" tabindex="-1" role="presentation"></a>La propiedad de estilo <code>position</code> influye en el dise√±o de una manera poderosa. De forma predeterminada, tiene un valor de <code>static</code>, lo que significa que el elemento se sit√∫a en su lugar normal en el documento. Cuando se establece en <code>relative</code>, el elemento sigue ocupando espacio en el documento, pero ahora las propiedades de estilo <code>top</code> y <code>left</code> se pueden usar para moverlo con respecto a ese lugar normal. Cuando <code>position</code> se establece en <code>absolute</code>, el elemento se elimina del flujo normal del documento, es decir, ya no ocupa espacio y puede superponerse con otros elementos. Adem√°s, sus propiedades de <code>top</code> y <code>left</code> se pueden usar para posicionarlo absolutamente con respecto a la esquina superior izquierda del elemento contenedor m√°s cercano cuya propiedad de <code>position</code> no sea <code>static</code>, o con respecto al documento si no existe tal elemento contenedor.</p>

<p><a class="p_ident" id="p-DNfa4H/xcw" href="#p-DNfa4H/xcw" tabindex="-1" role="presentation"></a>Podemos usar esto para crear una animaci√≥n. El siguiente documento muestra una imagen de un gato que se mueve en una elipse:</p>

<pre tabindex="0" class="snippet" data-language="html" ><a class="c_ident" id="c-SCZYa8azNm" href="#c-SCZYa8azNm" tabindex="-1" role="presentation"></a>&lt;<span class="tok-typeName">p</span> style=<span class="tok-string">&quot;</span>text-align: <span class="tok-atom">center</span><span class="tok-string">&quot;</span>&gt;
  &lt;<span class="tok-typeName">img</span> src=<span class="tok-string">&quot;img/cat.png&quot;</span> style=<span class="tok-string">&quot;</span>position: <span class="tok-atom">relative</span><span class="tok-string">&quot;</span>&gt;
&lt;/<span class="tok-typeName">p</span>&gt;
&lt;<span class="tok-typeName">script</span>&gt;
  <span class="tok-keyword">let</span> <span class="tok-definition">cat</span> = document.querySelector(<span class="tok-string">&quot;img&quot;</span>);
  <span class="tok-keyword">let</span> <span class="tok-definition">angle</span> = Math.PI / <span class="tok-number">2</span>;
  <span class="tok-keyword">function</span> <span class="tok-definition">animate</span>(<span class="tok-definition">time</span>, <span class="tok-definition">lastTime</span>) {
    <span class="tok-keyword">if</span> (lastTime != <span class="tok-keyword">null</span>) {
      angle += (time - lastTime) * <span class="tok-number">0.001</span>;
    }
    cat.style.top = (Math.sin(angle) * <span class="tok-number">20</span>) + <span class="tok-string">&quot;px&quot;</span>;
    cat.style.left = (Math.cos(angle) * <span class="tok-number">200</span>) + <span class="tok-string">&quot;px&quot;</span>;
    requestAnimationFrame(<span class="tok-definition">newTime</span> =&gt; animate(newTime, time));
  }
  requestAnimationFrame(animate);
&lt;/<span class="tok-typeName">script</span>&gt;</pre>

<p><a class="p_ident" id="p-fEXgVZgjYG" href="#p-fEXgVZgjYG" tabindex="-1" role="presentation"></a>Nuestra imagen est√° centrada en la p√°gina y tiene una <code>posici√≥n</code> de <code>relative</code>. Actualizaremos repetidamente los estilos <code>top</code> e <code>left</code> de esa imagen para moverla.</p>

<p id="animationFrame"><a class="p_ident" id="p-RqVeyWHVNp" href="#p-RqVeyWHVNp" tabindex="-1" role="presentation"></a>El script utiliza <code>requestAnimationFrame</code> para programar la ejecuci√≥n de la funci√≥n <code>animar</code> siempre que el navegador est√© listo para repintar la pantalla. La funci√≥n <code>animar</code> a su vez vuelve a llamar a <code>requestAnimationFrame</code> para programar la siguiente actualizaci√≥n. Cuando la ventana del navegador (o pesta√±a) est√° activa, esto provocar√° que las actualizaciones ocurran a una velocidad de aproximadamente 60 por segundo, lo que suele producir una animaci√≥n atractiva.</p>

<p><a class="p_ident" id="p-pmgnq2fRkz" href="#p-pmgnq2fRkz" tabindex="-1" role="presentation"></a>Si simplemente actualiz√°ramos el DOM en un bucle, la p√°gina se congelar√≠a y nada aparecer√≠a en la pantalla. Los navegadores no actualizan su pantalla mientras se ejecuta un programa JavaScript, ni permiten ninguna interacci√≥n con la p√°gina. Por eso necesitamos <code>requestAnimationFrame</code> ‚Äî le indica al navegador que hemos terminado por ahora, y puede continuar haciendo las cosas que hacen los navegadores, como actualizar la pantalla y responder a las acciones del usuario.</p>

<p><a class="p_ident" id="p-jsGXLKizvY" href="#p-jsGXLKizvY" tabindex="-1" role="presentation"></a>La funci√≥n de animaci√≥n recibe el tiempo actual como argumento. Para asegurar que el movimiento del gato por milisegundo sea estable, basa la velocidad a la que cambia el √°ngulo en la diferencia entre el tiempo actual y el √∫ltimo tiempo en que se ejecut√≥ la funci√≥n. Si simplemente moviera el √°ngulo por una cantidad fija por paso, el movimiento se interrumpir√≠a si, por ejemplo, otra tarea pesada que se est√° ejecutando en la misma computadora impidiera que la funci√≥n se ejecutara durante una fracci√≥n de segundo.</p>

<p id="sin_cos"><a class="p_ident" id="p-kst9P8Te8N" href="#p-kst9P8Te8N" tabindex="-1" role="presentation"></a>Moverse en c√≠rculos se hace utilizando las funciones trigonom√©tricas <code>Math.cos</code> y <code>Math.sin</code>. Para aquellos que no est√©n familiarizados con ellas, las presentar√© brevemente ya que ocasionalmente las utilizaremos en este libro.</p>

<p><a class="p_ident" id="p-vthchjpwSJ" href="#p-vthchjpwSJ" tabindex="-1" role="presentation"></a><code>Math.cos</code> y <code>Math.sin</code> son √∫tiles para encontrar puntos que se encuentran en un c√≠rculo alrededor del punto (0,0) con un radio de uno. Ambas funciones interpretan su argumento como la posici√≥n en este c√≠rculo, con cero denotando el punto en el extremo derecho del c√≠rculo, avanzando en el sentido de las agujas del reloj hasta que 2œÄ (aproximadamente 6,28) nos ha llevado alrededor de todo el c√≠rculo. <code>Math.cos</code> te indica la coordenada x del punto que corresponde a la posici√≥n dada, y <code>Math.sin</code> devuelve la coordenada y. Las posiciones (o √°ngulos) mayores que 2œÄ o menores que 0 son v√°lidos, la rotaci√≥n se repite de manera que <em>a</em>+2œÄ se refiere al mismo √°ngulo que <em>a</em>.</p>

<p><a class="p_ident" id="p-sMFMQb4ytS" href="#p-sMFMQb4ytS" tabindex="-1" role="presentation"></a>Esta unidad para medir √°ngulos se llama radianes ‚Äî un c√≠rculo completo son 2œÄ radianes, similar a c√≥mo son 360 grados al medir en grados. La constante œÄ est√° disponible como <code>Math.PI</code> en JavaScript.</p><figure><img src="img/cos_sin.svg" alt="Diagrama que muestra el uso del coseno y el seno para calcular coordenadas. Se muestra un c√≠rculo con radio 1 con dos puntos en √©l. El √°ngulo desde el lado derecho del c√≠rculo hasta el punto, en radianes, se utiliza para calcular la posici√≥n de cada punto usando 'cos(√°ngulo)' para la distancia horizontal desde el centro del c√≠rculo y sin(√°ngulo) para la distancia vertical."></figure>

<p><a class="p_ident" id="p-ocGDBG/Yqx" href="#p-ocGDBG/Yqx" tabindex="-1" role="presentation"></a>El c√≥digo de animaci√≥n del gato mantiene un contador, <code>angle</code>, para el √°ngulo actual de la animaci√≥n e incrementa el mismo cada vez que se llama la funci√≥n <code>animate</code>. Luego puede usar este √°ngulo para calcular la posici√≥n actual del elemento de imagen. El estilo <code>top</code> es calculado con <code>Math.sin</code> y multiplicado por 20, que es el radio vertical de nuestra elipse. El estilo <code>left</code> se basa en <code>Math.cos</code> y multiplicado por 200 para que la elipse sea mucho m√°s ancha que alta.</p>

<p><a class="p_ident" id="p-Xqf+1pzb5Y" href="#p-Xqf+1pzb5Y" tabindex="-1" role="presentation"></a>Ten en cuenta que los estilos usualmente necesitan <em>unidades</em>. En este caso, tenemos que a√±adir <code>&quot;px&quot;</code> al n√∫mero para indicarle al navegador que estamos contando en p√≠xeles (en lugar de cent√≠metros, ‚Äúems‚Äù u otras unidades). Esto es f√°cil de olvidar. Usar n√∫meros sin unidades resultar√° en que tu estilo sea ignorado ‚Äî a menos que el n√∫mero sea 0, lo cual siempre significa lo mismo, independientemente de su unidad.</p>

<h2><a class="h_ident" id="h-NUFOUyK+lw" href="#h-NUFOUyK+lw" tabindex="-1" role="presentation"></a>Resumen</h2>

<p><a class="p_ident" id="p-rZ35pctbjh" href="#p-rZ35pctbjh" tabindex="-1" role="presentation"></a>Los programas de JavaScript pueden inspeccionar e interferir con el documento que el navegador est√° mostrando a trav√©s de una estructura de datos llamada el DOM. Esta estructura de datos representa el modelo del documento del navegador, y un programa de JavaScript puede modificarlo para cambiar el documento visible.</p>

<p><a class="p_ident" id="p-tjM39Si6eN" href="#p-tjM39Si6eN" tabindex="-1" role="presentation"></a>El DOM est√° organizado como un √°rbol, en el cual los elementos est√°n dispuestos jer√°rquicamente de acuerdo a la estructura del documento. Los objetos que representan elementos tienen propiedades como <code>parentNode</code> y <code>childNodes</code>, las cuales pueden ser usadas para navegar a trav√©s de este √°rbol.</p>

<p><a class="p_ident" id="p-V9BW6ZJg00" href="#p-V9BW6ZJg00" tabindex="-1" role="presentation"></a>La forma en que un documento es mostrado puede ser influenciada por el <em>estilo</em>, tanto adjuntando estilos directamente a nodos como definiendo reglas que coincidan con ciertos nodos. Hay muchas propiedades de estilo diferentes, como <code>color</code> o <code>display</code>. El c√≥digo de JavaScript puede manipular el estilo de un elemento directamente a trav√©s de su propiedad <code>style</code>.</p>

<h2><a class="h_ident" id="h-tkm7ntLto1" href="#h-tkm7ntLto1" tabindex="-1" role="presentation"></a>Ejercicios</h2>

<h3 id="exercise_table"><a class="i_ident" id="i-z5OvB5hZU/" href="#i-z5OvB5hZU/" tabindex="-1" role="presentation"></a>Construir una tabla</h3>

<p><a class="p_ident" id="p-pufpiqkCqY" href="#p-pufpiqkCqY" tabindex="-1" role="presentation"></a>Una tabla HTML se construye con la siguiente estructura de etiquetas:</p>

<pre tabindex="0" class="snippet" data-language="html" ><a class="c_ident" id="c-np7yTOJmzm" href="#c-np7yTOJmzm" tabindex="-1" role="presentation"></a>&lt;<span class="tok-typeName">table</span>&gt;
  &lt;<span class="tok-typeName">tr</span>&gt;
    &lt;<span class="tok-typeName">th</span>&gt;nombre&lt;/<span class="tok-typeName">th</span>&gt;
    &lt;<span class="tok-typeName">th</span>&gt;altura&lt;/<span class="tok-typeName">th</span>&gt;
    &lt;<span class="tok-typeName">th</span>&gt;lugar&lt;/<span class="tok-typeName">th</span>&gt;
  &lt;/<span class="tok-typeName">tr</span>&gt;
  &lt;<span class="tok-typeName">tr</span>&gt;
    &lt;<span class="tok-typeName">td</span>&gt;Kilimanjaro&lt;/<span class="tok-typeName">td</span>&gt;
    &lt;<span class="tok-typeName">td</span>&gt;5895&lt;/<span class="tok-typeName">td</span>&gt;
    &lt;<span class="tok-typeName">td</span>&gt;Tanzania&lt;/<span class="tok-typeName">td</span>&gt;
  &lt;/<span class="tok-typeName">tr</span>&gt;
&lt;/<span class="tok-typeName">table</span>&gt;</pre>

<p><a class="p_ident" id="p-XmKxZkmv87" href="#p-XmKxZkmv87" tabindex="-1" role="presentation"></a>Dado un conjunto de datos de monta√±as, un array de objetos con propiedades <code>name</code>, <code>height</code>, y <code>place</code>, genera la estructura DOM para una tabla que enumera los objetos. Deber√≠a haber una columna por clave y una fila por objeto, adem√°s de una fila de encabezado con elementos <code>&lt;th&gt;</code> en la parte superior, enumerando los nombres de las columnas.</p>

<p><a class="p_ident" id="p-jM6gk2QtmI" href="#p-jM6gk2QtmI" tabindex="-1" role="presentation"></a>Escribe esto de manera que las columnas se deriven autom√°ticamente de los objetos, tomando los nombres de las propiedades del primer objeto en los datos.</p>

<p><a class="p_ident" id="p-JSYCxXRw8Y" href="#p-JSYCxXRw8Y" tabindex="-1" role="presentation"></a>Muestra la tabla resultante en el documento agreg√°ndola al elemento que tenga un atributo <code>id</code> de <code>&quot;mountains&quot;</code>.</p>

<p><a class="p_ident" id="p-J3g68PmVRo" href="#p-J3g68PmVRo" tabindex="-1" role="presentation"></a>Una vez que tengas esto funcionando, alinea a la derecha las celdas que contienen valores num√©ricos estableciendo su propiedad <code>style.textAlign</code> en <code>&quot;right&quot;</code>.</p>

<pre tabindex="0" class="snippet" data-language="html" ><a class="c_ident" id="c-2zLfzrzXv6" href="#c-2zLfzrzXv6" tabindex="-1" role="presentation"></a>&lt;<span class="tok-typeName">h1</span>&gt;Monta√±as&lt;/<span class="tok-typeName">h1</span>&gt;

&lt;<span class="tok-typeName">div</span> id=<span class="tok-string">&quot;mountains&quot;</span>&gt;&lt;/<span class="tok-typeName">div</span>&gt;

&lt;<span class="tok-typeName">script</span>&gt;
  <span class="tok-keyword">const</span> <span class="tok-definition">MONTA√ëAS</span> = [
    {<span class="tok-definition">name</span>: <span class="tok-string">&quot;Kilimanjaro&quot;</span>, <span class="tok-definition">height</span>: <span class="tok-number">5895</span>, <span class="tok-definition">place</span>: <span class="tok-string">&quot;Tanzania&quot;</span>},
    {<span class="tok-definition">name</span>: <span class="tok-string">&quot;Everest&quot;</span>, <span class="tok-definition">height</span>: <span class="tok-number">8848</span>, <span class="tok-definition">place</span>: <span class="tok-string">&quot;Nepal&quot;</span>},
    {<span class="tok-definition">name</span>: <span class="tok-string">&quot;Monte Fuji&quot;</span>, <span class="tok-definition">height</span>: <span class="tok-number">3776</span>, <span class="tok-definition">place</span>: <span class="tok-string">&quot;Jap√≥n&quot;</span>},
    {<span class="tok-definition">name</span>: <span class="tok-string">&quot;Vaalserberg&quot;</span>, <span class="tok-definition">height</span>: <span class="tok-number">323</span>, <span class="tok-definition">place</span>: <span class="tok-string">&quot;Pa√≠ses Bajos&quot;</span>},
    {<span class="tok-definition">name</span>: <span class="tok-string">&quot;Denali&quot;</span>, <span class="tok-definition">height</span>: <span class="tok-number">6168</span>, <span class="tok-definition">place</span>: <span class="tok-string">&quot;Estados Unidos&quot;</span>},
    {<span class="tok-definition">name</span>: <span class="tok-string">&quot;Popocat√©petl&quot;</span>, <span class="tok-definition">height</span>: <span class="tok-number">5465</span>, <span class="tok-definition">place</span>: <span class="tok-string">&quot;M√©xico&quot;</span>},
    {<span class="tok-definition">name</span>: <span class="tok-string">&quot;Mont Blanc&quot;</span>, <span class="tok-definition">height</span>: <span class="tok-number">4808</span>, <span class="tok-definition">place</span>: <span class="tok-string">&quot;Italia/Francia&quot;</span>}
  ];

  <span class="tok-comment">// Tu c√≥digo aqu√≠</span>
&lt;/<span class="tok-typeName">script</span>&gt;</pre>

<details class="solution"><summary>Mostrar pistas...</summary><div class="solution-text">

<p><a class="p_ident" id="p-XNvmBiuS1c" href="#p-XNvmBiuS1c" tabindex="-1" role="presentation"></a>Puedes usar <code>document.<wbr>createElement</code> para crear nuevos nodos de elementos, <code>document.<wbr>createTextNode</code> para crear nodos de texto y el m√©todo <code>appendChild</code> para poner nodos en otros nodos.</p>

<p><a class="p_ident" id="p-Lcrj8SZVc5" href="#p-Lcrj8SZVc5" tabindex="-1" role="presentation"></a>Querr√°s iterar sobre los nombres de las claves una vez para completar la fila superior y luego nuevamente para cada objeto en el array para construir las filas de datos. Para obtener un array de nombres de claves del primer objeto, <code>Object.keys</code> ser√° √∫til.</p>

<p><a class="p_ident" id="p-ny4p+IvE+e" href="#p-ny4p+IvE+e" tabindex="-1" role="presentation"></a>Para agregar la tabla al nodo padre correcto, puedes usar <code>document.<wbr>getElementById</code> o <code>document.<wbr>querySelector</code> con <code>&quot;#mountains&quot;</code> para encontrar el nodo.</p>

</div></details>

<h3><a class="i_ident" id="i-2EZh9/DLl/" href="#i-2EZh9/DLl/" tabindex="-1" role="presentation"></a>Elementos por nombre de etiqueta</h3>

<p><a class="p_ident" id="p-DX+MfJcvET" href="#p-DX+MfJcvET" tabindex="-1" role="presentation"></a>El m√©todo <code>document.<wbr>getElementsByTagName</code> devuelve todos los elementos hijos con un nombre de etiqueta dado. Implementa tu propia versi√≥n de esto como una funci√≥n que tome un nodo y un string (el nombre de la etiqueta) como argumentos y devuelva un array que contenga todos los nodos de elementos descendientes con el nombre de etiqueta dado. Tu funci√≥n debe recorrer el documento en s√≠. No puede usar un m√©todo como <code>querySelectorAll</code> para hacer el trabajo.</p>

<p><a class="p_ident" id="p-H4FD81KH7y" href="#p-H4FD81KH7y" tabindex="-1" role="presentation"></a>Para encontrar el nombre de etiqueta de un elemento, usa su propiedad <code>nodeName</code>. Pero ten en cuenta que esto devolver√° el nombre de la etiqueta en may√∫sculas. Usa los m√©todos de string <code>toLowerCase</code> o <code>toUpperCase</code> para compensar esto.</p>

<pre tabindex="0" class="snippet" data-language="html" ><a class="c_ident" id="c-SHm9FthIXO" href="#c-SHm9FthIXO" tabindex="-1" role="presentation"></a>&lt;<span class="tok-typeName">h1</span>&gt;Heading with a &lt;<span class="tok-typeName">span</span>&gt;span&lt;/<span class="tok-typeName">span</span>&gt; element.&lt;/<span class="tok-typeName">h1</span>&gt;
&lt;<span class="tok-typeName">p</span>&gt;A paragraph with &lt;<span class="tok-typeName">span</span>&gt;one&lt;/<span class="tok-typeName">span</span>&gt;, &lt;<span class="tok-typeName">span</span>&gt;two&lt;/<span class="tok-typeName">span</span>&gt;
  spans.&lt;/<span class="tok-typeName">p</span>&gt;

&lt;<span class="tok-typeName">script</span>&gt;
  <span class="tok-keyword">function</span> <span class="tok-definition">byTagName</span>(<span class="tok-definition">node</span>, <span class="tok-definition">tagName</span>) {
    <span class="tok-comment">// Your code here.</span>
  }

  console.log(byTagName(document.body, <span class="tok-string">&quot;h1&quot;</span>).length);
  <span class="tok-comment">// ‚Üí 1</span>
  console.log(byTagName(document.body, <span class="tok-string">&quot;span&quot;</span>).length);
  <span class="tok-comment">// ‚Üí 3</span>
  <span class="tok-keyword">let</span> <span class="tok-definition">para</span> = document.querySelector(<span class="tok-string">&quot;p&quot;</span>);
  console.log(byTagName(para, <span class="tok-string">&quot;span&quot;</span>).length);
  <span class="tok-comment">// ‚Üí 2</span>
&lt;/<span class="tok-typeName">script</span>&gt;</pre>

<details class="solution"><summary>Mostrar pistas...</summary><div class="solution-text">

<p><a class="p_ident" id="p-Ei5S1OWx7h" href="#p-Ei5S1OWx7h" tabindex="-1" role="presentation"></a>La soluci√≥n es m√°s f√°cil de expresar con una funci√≥n recursiva, similar a la <a href="14_dom.html#talksAbout">funci√≥n <code>talksAbout</code></a> definida anteriormente en este cap√≠tulo.</p>

<p><a class="p_ident" id="p-ElU7W0NdPy" href="#p-ElU7W0NdPy" tabindex="-1" role="presentation"></a>Puedes llamar a <code>byTagname</code> a s√≠ misma de manera recursiva, concatenando los arrays resultantes para producir la salida. O puedes crear una funci√≥n interna que se llame a s√≠ misma de manera recursiva y que tenga acceso a un enlace de array definido en la funci√≥n externa, al cual puede agregar los elementos coincidentes que encuentre. No olvides llamar a la funci√≥n interna una vez desde la funci√≥n externa para iniciar el proceso.</p>

<p><a class="p_ident" id="p-uSFxM3zQ/0" href="#p-uSFxM3zQ/0" tabindex="-1" role="presentation"></a>La funci√≥n recursiva debe verificar el tipo de nodo. Aqu√≠ estamos interesados solo en el tipo de nodo 1 (<code>Node.<wbr>ELEMENT_NODE</code>). Para estos nodos, debemos recorrer sus hijos y, para cada hijo, ver si el hijo coincide con la consulta mientras tambi√©n hacemos una llamada recursiva en √©l para inspeccionar sus propios hijos.</p>

</div></details>

<h3><a class="i_ident" id="i-75abwvO+MO" href="#i-75abwvO+MO" tabindex="-1" role="presentation"></a>El sombrero del gato</h3>

<p><a class="p_ident" id="p-UclIXSNYWH" href="#p-UclIXSNYWH" tabindex="-1" role="presentation"></a>Extiende la animaci√≥n del gato definida anteriormente para que tanto el gato como su sombrero (<code>&lt;img src=&quot;img/<wbr>hat.<wbr>png&quot;&gt;</code>) orbiten en lados opuestos de la elipse.</p>

<p><a class="p_ident" id="p-jM+NiFQr98" href="#p-jM+NiFQr98" tabindex="-1" role="presentation"></a>O haz que el sombrero circule alrededor del gato. O altera la animaci√≥n de alguna otra manera interesante.</p>

<p><a class="p_ident" id="p-5pdRtnOerx" href="#p-5pdRtnOerx" tabindex="-1" role="presentation"></a>Para facilitar el posicionamiento de varios objetos, es probablemente una buena idea cambiar a posicionamiento absoluto. Esto significa que <code>top</code> y <code>left</code> se cuentan en relaci√≥n al extremo superior izquierdo del documento. Para evitar usar coordenadas negativas, que har√≠an que la imagen se salga de la p√°gina visible, puedes agregar un n√∫mero fijo de p√≠xeles a los valores de posici√≥n.</p>

<pre tabindex="0" class="snippet" data-language="html" ><a class="c_ident" id="c-h3Gqsempqw" href="#c-h3Gqsempqw" tabindex="-1" role="presentation"></a>&lt;<span class="tok-typeName">style</span>&gt;<span class="tok-typeName">body</span> { min-height: <span class="tok-number">200</span><span class="tok-keyword">px</span> }&lt;/<span class="tok-typeName">style</span>&gt;
&lt;<span class="tok-typeName">img</span> src=<span class="tok-string">&quot;img/cat.png&quot;</span> id=<span class="tok-string">&quot;cat&quot;</span> style=<span class="tok-string">&quot;</span>position: <span class="tok-atom">absolute</span><span class="tok-string">&quot;</span>&gt;
&lt;<span class="tok-typeName">img</span> src=<span class="tok-string">&quot;img/hat.png&quot;</span> id=<span class="tok-string">&quot;hat&quot;</span> style=<span class="tok-string">&quot;</span>position: <span class="tok-atom">absolute</span><span class="tok-string">&quot;</span>&gt;

&lt;<span class="tok-typeName">script</span>&gt;
  <span class="tok-keyword">let</span> <span class="tok-definition">cat</span> = document.querySelector(<span class="tok-string">&quot;#cat&quot;</span>);
  <span class="tok-keyword">let</span> <span class="tok-definition">hat</span> = document.querySelector(<span class="tok-string">&quot;#hat&quot;</span>);

  <span class="tok-keyword">let</span> <span class="tok-definition">angle</span> = <span class="tok-number">0</span>;
  <span class="tok-keyword">let</span> <span class="tok-definition">lastTime</span> = <span class="tok-keyword">null</span>;
  <span class="tok-keyword">function</span> <span class="tok-definition">animate</span>(<span class="tok-definition">time</span>) {
    <span class="tok-keyword">if</span> (lastTime != <span class="tok-keyword">null</span>) angle += (time - lastTime) * <span class="tok-number">0.001</span>;
    lastTime = time;
    cat.style.top = (Math.sin(angle) * <span class="tok-number">40</span> + <span class="tok-number">40</span>) + <span class="tok-string">&quot;px&quot;</span>;
    cat.style.left = (Math.cos(angle) * <span class="tok-number">200</span> + <span class="tok-number">230</span>) + <span class="tok-string">&quot;px&quot;</span>;

    <span class="tok-comment">// Your extensions here.</span>

    requestAnimationFrame(animate);
  }
  requestAnimationFrame(animate);
&lt;/<span class="tok-typeName">script</span>&gt;</pre>

<details class="solution"><summary>Mostrar pistas...</summary><div class="solution-text">

<p><a class="p_ident" id="p-jfbbeH+fXF" href="#p-jfbbeH+fXF" tabindex="-1" role="presentation"></a><code>Math.cos</code> y <code>Math.sin</code> miden los √°ngulos en radianes, donde un c√≠rculo completo es 2œÄ. Para un √°ngulo dado, puedes obtener el √°ngulo opuesto sumando la mitad de este, que es <code>Math.PI</code>. Esto puede ser √∫til para poner el sombrero en el lado opuesto de la √≥rbita.</p>

</div></details><nav><a href="13_browser.html" title="previous chapter" aria-label="previous chapter">‚óÇ</a>¬†<a href="index.html" title="cover" aria-label="cover">‚óè</a>¬†<a href="15_event.html" title="next chapter" aria-label="next chapter">‚ñ∏</a>&nbsp;<button class=help title="help" aria-label="help"><strong>?</strong></button>&nbsp;<button class="dark-mode-toggle">üåô</button>
</nav>
</article>

<script src="ejs.js"></script>
